---
title: Kill Chain : PROCESOS
date: 2024-10-11 00:00:00 -05:00
categories: [Reconnaissance, Weaponization , Delivery / Exploitation, Installation ,Actions on Object, Conclusions]
tags: [NMAP, Kali Linux , Metasploit]  # TAG names should always be lowercase
---

# **Reconnaissance** 
Se encarga de recopila información valiosa sobre el objetivo, como sus sistemas, servicios, versiones de software, configuraciones y posibles vulnerabilidades. Esta información donde será crucial para planificar y ejecutar los procesos.

## Objetivos:

1. Recopilar toda la información disponible sobre los sistemas que serán probados.
2. Conocer a fondo los sistemas, servicios y versiones de software en funcionamiento.

    **¿Por qué debemos ejecutar nmap con privilegios de root?**

1. Se debe ejecutar nmap con privilegios de root (o administrador) ya que  algunos escaneos avanzados y técnicas de detección de sistemas operativos requieren privilegios elevados para funcionar correctamente.
Ciertas opciones de nmap que permiten realizar tareas como la detección de sistemas vulnerables a ciertos ataques solo están disponibles con permisos de root.

2. Por que tiene la Capacidad de escanear puertos privilegiados:
Los puertos por debajo del 1024 (conocidos como puertos privilegiados) solo pueden ser escaneados por procesos con permisos de root.
Esto permite obtener más información sobre los servicios que se están ejecutando en esos puertos, lo cual puede ser crucial durante la fase de reconocimiento.

3. otorga mejores resultados de enumeración:
Algunas técnicas de enumeración, como la detección de versiones de servicios o la resolución de nombres de dominio, funcionan mejor cuando nmap se ejecuta con privilegios elevados.
Esto permite recopilar información más precisa y detallada sobre el objetivo.

4. Evasión de medidas de seguridad:
Algunos firewalls o sistemas de detección de intrusos pueden bloquear o limitar las conexiones de nmap si se ejecuta sin privilegios de root.
Tener permisos elevados ayuda a evitar estas restricciones y realizar un escaneo más completo.

![Fig:1]( /assets/imagen/Fig1.png)

**Fig:1 El programa nos devolverá los puertos que se encuentran abiertos en el equipo objetivo.**

**¿Qué significan los flags -sS, -sT, -sV, -O en el escaneo de nmap?**

Los flags de nmap -sS (TCP SYN Scan), -sT (TCP Connect Scan), -sV (Versión de servicio) y -O (Detección de sistema operativo) se utilizan durante la fase de reconocimiento de un proceso de pentesting para recopilar información detallada sobre los sistemas y servicios del objetivo. El escaneo SYN permite detectar puertos abiertos de forma rápida y furtiva, mientras que el escaneo TCP Connect completa la conexión de forma normal, brindando resultados más confiables. El flag -sV permite determinar las versiones de los servicios en ejecución, lo cual es clave para identificar posibles vulnerabilidades, y el flag -O intenta identificar el sistema operativo del host objetivo a través de técnicas de detección, proporcionando información valiosa para planificar las siguientes etapas del proceso de pruebas de penetración.

```Herramienta avanzada de envío de paquetes, útil para escaneo de puertos.
Ejemplo de Uso: hping3 -S -p 80 192.168.1.1
```

**¿Existe algún flag que permite hacer un escaneo involucrando todos los flags mencionados anteriormente?**

El flag -A de nmap permite realizar un escaneo completo y agresivo que incluye todas las funcionalidades mencionadas anteriormente: un TCP SYN Scan para detectar puertos abiertos de forma furtiva, la determinación de las versiones de los servicios en ejecución, la identificación del sistema operativo del host objetivo, y la ejecución de scripts adicionales para obtener más información. Al utilizar el flag -A, nmap realiza un escaneo exhaustivo que proporciona una visión amplia y detallada de los sistemas y servicios del objetivo, lo cual es fundamental durante la fase de reconocimiento de un proceso de pruebas de penetración, aunque se debe tener precaución ya que este tipo de escaneo también puede ser más intrusivo y fácil de detectar por los sistemas de seguridad.

```Si queremos realizar este escaneo a la dirección IP 192.168.1.1 podemos ejecutar la siguiente orden:
nmap -A -v 192.168.1.1
```

**Según la pregunta anterior, ¿qué significa el flag -sS?**

El flag -sS en nmap corresponde a un TCP SYN Scan, una técnica de escaneo furtiva y rápida que permite detectar puertos abiertos sin completar por completo la conexión TCP, siendo más silenciosa y menos propensa a ser detectada por los sistemas de seguridad del objetivo en comparación con otros métodos de escaneo, lo cual la convierte en una herramienta valiosa durante la fase de reconocimiento de un proceso de pruebas de penetración, ya que permite identificar los puertos abiertos en los sistemas objetivo sin despertar sospechas.

**¿Qué hace el flag --script?**

El flag --script en nmap permite ejecutar scripts de Nmap Script Engine (NSE), una característica que extiende las capacidades de la herramienta, posibilitando la realización de una amplia variedad de tareas durante el escaneo, como la detección de vulnerabilidades, la enumeración de información adicional, la explotación de vulnerabilidades, la recopilación de inteligencia y la automatización de procesos, lo cual lo convierte en una funcionalidad muy valiosa durante la fase de reconocimiento y enumeración de un proceso de pruebas de penetración, ya que permite obtener información y capacidades más allá de las funciones básicas de nmap.

![Fig2]( /assets/imagen/Fig2.png)

# **Weaponization**

Es el proceso de convertir una herramienta o técnica de hacking en un arma efectiva para atacar sistemas o redes.

**Algunas características de la weaponization incluyen:**

1. Automatizar y optimizar una técnica de explotación para hacerla más eficiente y efectiva.
2. Integrar múltiples herramientas y técnicas en un solo paquete o script para ampliar las capacidades del ataque.
3. Diseñar payloads maliciosos que puedan evadir detección por antivirus y sistemas de seguridad.
4. Desarrollar técnicas de ofuscación y evasión para ocultar el código malicioso.
5. Personalizar y adaptarlas a diferentes entornos y objetivos específicos.

El servicio ssh como enumerar usuarios a través del servicio SSH en un objetivo específico:

**El módulo ssh_enumusers en Metasploit:**

```
use auxiliary/scanner/ssh/ssh_enumusers
```
*Esto carga el módulo que se utiliza para enumerar usuarios configurados en el servicio SSH de un sistema remoto.*
```
set RHOSTS [IP_ADDRESS]
```
*Establece la dirección IP del objetivo*

```
set USER_FILE [ruta_al_diccionario_de_usuarios]
```
*Define la ruta al diccionario de usuarios*

```
run
```
*Ejecuta el módulo*

Delivery / Exploitation

## Etapas de Blog
Instalación de las herramientas necesarias:
1. Git: Descargar e instalar Git para Windows (https://github.com/git-for-windows/git/releases/download/v2.46.2.windows.1/Git-2.46.2-64-bit.exe)
2. Visual Studio Code: Descargar e instalar Visual Studio Code (https://code.visualstudio.com/docs/?dv=win64user)
3. Ruby: Descargar e instalar la versión más reciente de RubyInstaller for Windows (https://rubyinstaller.org/)

Jekyll: Ejecutar en la terminal de PowerShell: gem install jekyll

![figura1](/assets/imagen/figura1.png)

comando de verificación de instalación *jekyll -v*

![figura2](/assets/imagen/figura2.png)

Bundler: Ejecutar en la terminal de PowerShell: gem install bundler

![figura3](/assets/imagen/figura3.png)

comando de verificación de instalación *bundler -v*

![figura4](/assets/imagen/figura4.png)


### SECCIONES

#### SUB- SECCIONES 


LISTAS


1. ITEM 1
2. ITEM 2

            PLAIN - TEXT  CODE 

